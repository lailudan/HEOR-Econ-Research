# 学习笔记：密码学与模运算的进阶 2026-02-11
# Cryptography & Modular Arithmetic (MIT 6.042J Lec 5)

这篇笔记记录了从简单加密到现代 RSA 算法的演进逻辑，重点在于数论在安全领域的实际应用。

---

## 1. 乘法逆元 (Multiplicative Inverse) —— 余数世界的“除法”

在普通的数学里，除以 2 等于乘以 $1/2$。但在模运算（余数世界）里没有分数。
* **定义：** 如果 $x \cdot y \equiv 1 \pmod n$，那么 $y$ 就是 $x$ 在模 $n$ 下的乘法逆元。
* **直观理解：** 找到一个数，让它和原数相乘后，余数刚好变回 1。
* **存在条件：** 只有当 $x$ 和 $n$ **互质**（GCD 为 1）时，逆元才存在。



---

## 2. 欧拉函数 $\phi(n)$ (Euler's Totient Function)

* **定义：** 在 $1$ 到 $n-1$ 的整数中，有多少个数与 $n$ 是互质的。
* **计算示例：**
    - $\phi(12)$: 与 12 互质的有 $\{1, 5, 7, 11\}$，所以 $\phi(12) = 4$。
    - 如果 $p$ 是质数，那么 $\phi(p) = p - 1$。
* **重要性：** 它决定了余数世界里的“周期”长度。

---

## 3. 费马小定理 (Fermat's Little Theorem)

* **核心公式：** 若 $p$ 是质数，且 $a$ 不是 $p$ 的倍数，则：
  $$a^{p-1} \equiv 1 \pmod p$$
* **意义：** 无论多大的数字 $a$，只要指数达到 $p-1$，它在模 $p$ 的世界里就会神奇地“归一”。这是加密和快速幂运算的基础。

---

## 4. RSA 加密算法：现代文明的守护者

RSA 是目前全球最通用的公钥加密算法。它的核心逻辑是：**加密容易，破解难。**

### A. 准备阶段 (Key Generation)
1. 挑选两个巨大的质数 $p$ 和 $q$。
2. 计算 $n = p \cdot q$。
3. 挑选一个加密指数 $e$。
4. **公钥：** $(e, n)$ —— 全世界都可以看。
5. **私钥：** 通过 $p, q, e$ 计算出的解密指数 $d$ —— 只有你自己知道。

### B. 加密与解密过程
* **加密：** $M' = M^e \pmod n$
* **解密：** $M = (M')^d \pmod n$



### C. 为什么安全？
* 所有人都能看到 $n$，但没人能算出 $p$ 和 $q$ 是多少（**因数分解难题/橡皮泥比喻**）。
* 只要算不出 $p$ 和 $q$，就无法算出解密用的私钥 $d$。

---

## 5. 总结：数论的“美”与“用”

1. **图灵的遗憾：** 仅靠大数相乘（ $M \times K$ ）是不够的。教授在视频中证明了，如果黑客截获了两段密文，利用上一节课讲过的 **GCD 算法** 就能轻易抓到秘密钥匙 $K$。
2. **模运算的威力：** 引入取余操作后，数学关系变得错综复杂，必须依靠“逆元”和“高阶幂运算”才能找回原信息。
3. **RSA 的伟大：** 它利用了“大数分解”的非对称性，第一次实现了“不需要提前交换秘密钥匙就能安全通信”。


# 数论与密码学基础学习笔记

> **Status:** 🚧 In Progress (Self-study for PhD Prep)
> **Source:** MIT OpenCourseWare (Lec 4 & Lec 5)

## 📖 项目简介 (Introduction)
这个仓库记录了我在准备博士申请期间，对于**数论 (Number Theory)** 及其在**计算机科学与经济学**中应用的底层逻辑思考。重点在于理解离散数学如何构建了现代系统的安全性。

---

## 🧩 第一部分：数论的基础 (The Foundation)
**核心案例：电影《虎胆龙威 3》中的倒水难题**

### 1. 核心直觉
- **问题：** 给定两个容量分别为 $a$ 和 $b$ 的桶，能通过倒水凑出多少水？
- **结论（贝祖定理）：** 我们能凑出的最小水量，是 $a$ 和 $b$ 的**最大公约数 (GCD)**。
- **推论：** 如果目标水量不是 GCD 的倍数，任务无解（炸弹爆炸）。

### 2. 关键算法
- **辗转相除法 (Euclidean Algorithm)：**
  - 不用暴力破解，而是通过递归取余数 ($b \pmod a$)，极速找到两个大数的 GCD。
  - *哲学意义：* 复杂问题可以通过递归简化为基本单元。

---

## 🔐 第二部分：从橡皮泥到 RSA 加密 (Cryptography)
**核心案例：二战密码机与现代互联网安全**

### 1. 核心直觉：非对称性
- **正向容易：** 把两块不同颜色的橡皮泥捏在一起（大质数相乘 $p \times q$）。
- **逆向极难：** 把混合的橡皮泥完美还原（因数分解）。
- **应用：** 这就是**公钥加密**的基石——所有人都能加密，但只有拥有“还原配方”（私钥）的人能解密。

### 2. 数学工具：模运算 (Modular Arithmetic)
- **概念：** $mod \ n$ 就像一个只有 $n$ 个刻度的时钟。
- **作用：**
  - 在这个“时钟世界”里，数字不会无限变大，而是循环往复。
  - 通过**费马小定理**，我们可以设计一种运算，让数字在转了无数圈后，神奇地回到原点（解密成功）。

### 3. RSA 算法流程 (The Protocol)
1. **生成公钥：** 也就是那个只有 $n$ 个刻度的“大时钟”。
2. **加密：** $M^e \pmod n$ （把时钟快拨 $e$ 倍）。
3. **解密：** $C^d \pmod n$ （利用数学周期性，再拨 $d$ 倍，让指针归位）。

---

## 💡 个人思考 (Reflections)
对于 **HEOR (Health Economics and Outcomes Research)** 和经济学建模而言，数论提供了一种极其严密的思维方式：
1. **离散性：** 并非所有变量都是连续的，整数规划在资源分配中至关重要。
2. **状态机思维：** 无论是在破解 Enigma 还是在模拟医疗决策路径，本质都是在有限状态空间中寻找最优解。





# 📚 MIT 6.042J 学习日志 | 2026-02-10
## Lec 4: 数论与水桶博弈 (Number Theory I)

# 学习笔记：数论、橡皮泥与现代加密的本质

## 一个核心悖论：难易的非对称性
在数论中，很多运算在“正向执行”和“逆向推导”之间的难度有着天壤之别。这种差异是现代互联网安全的基石。

### 橡皮泥比喻 (The Modeling Clay Analogy)
* **正向计算（乘法）：** 就像把两块不同颜色的橡皮泥捏在一起。这是一个极其简单的过程，任何人都能在一秒钟内完成。
* **逆向拆解（质因数分解）：** 给你一块已经完全融合的橡皮泥，要求你将其精准地还原回原本两块橡皮泥的形状和颜色。在数字规模足够大时，这在数学上是近乎不可能完成的任务。

## 规模带来的质变 (The Scale of Complexity)

### 小规模：直觉的误导
当我们看数字 $323$ 时，我们的直觉会告诉我们它并不难拆解：
* 我们通过简单的尝试就能发现：$17 \times 19 = 323$。
* 这种通过挨个尝试的方法叫做 **“暴力破解” (Brute Force)**。

### 大规模：数学的防线
当数字规模达到 2048 位（RSA-2048 标准）时：
* **计算机正向计算：** 耗时不到 0.0001 秒。
* **全球超级计算机逆向拆解：** 可能需要数亿年甚至更久。



## 现实应用：RSA 加密算法
这种“橡皮泥”式的单向难度被直接应用于保护我们的数字生活。

* **公钥 (Public Key)：** 相当于相乘后的结果 $N$（全世界可见）。任何人都可以用它来给你发送的信息“上锁”。
* **私钥 (Private Key)：** 相当于那两个原始的质数 $P$ 和 $Q$。只有你拥有这两个数字，才能像拥有“解药”一样拆解信息。

## 总结
数论并不是在玩弄无意义的数字游戏。它利用了数字最基础的性质，制造了一种“信息不对称”。

> **结论：** 现代文明的安全性，并不取决于锁有多硬，而取决于“拆解橡皮泥”的数学过程在计算上是不可行的。

# 1. 核心模型：水桶问题的数学化
- **情境：** 给定容积为 $a, b$ 的两个水桶，能量出多少水？
- **状态机模拟：**
  - 起始状态：$(0, 0)$
  - 转移规则：注满 (Fill)、倒空 (Empty)、倾倒 (Pour)。
- **结论：** 所有可达状态 $(x, y)$ 必须满足 $x, y$ 都是 $\gcd(a, b)$ 的倍数。

### 🚫 Case Study: The Impossibility Proof (3G & 6G vs. 4G)

**Theorem:** It is impossible to measure 4 gallons using only 3-gallon and 6-gallon jugs.

**Proof by Divisibility:**
1. Let the volumes of the jugs be $a=3$ and $b=6$.
2. Any volume $V$ that can be measured must be a linear combination of $a$ and $b$: $V = sa + tb$, where $s, t \in \mathbb{Z}$.
3. We know that $V$ must be a multiple of $\gcd(a, b)$.
4. $\gcd(3, 6) = 3$.
5. Therefore, any measurable volume $V$ must satisfy $V \equiv 0 \pmod 3$.
6. Since $4 \equiv 1 \pmod 3$, 4 is not a multiple of 3 ($3 \nmid 4$).

**Conclusion:** The state $V=4$ is outside the reachable state space of this system.

---
**PhD Note:** 在系统建模中，识别这种“结构性限制”可以节省大量无效计算。如果你知道目标的 GCD 最大公约数不对，你根本不需要去尝试任何路径。





# 2. 数论基本概念 (The Toolkit)
- **整除 ($d \mid n$)：** 存在整数 $k$ 使得 $n = kd$。
- **公约数：** 如果 $d \mid a$ 且 $d \mid b$，则 $d$ 是公约数。
- **线性组合 (Linear Combination)：** 形如 $sa + tb$ 的数（$s, t$ 为整数）。

# 3. 贝祖定理 (Bézout's Identity) —— 核心中的核心
- **定理内容：** $\gcd(a, b)$ 是 $a$ 和 $b$ 的**最小正线性组合**。
- **应用：** 如果你想量出 $k$ 加仑水，前提是 $\gcd(a, b) \mid k$。
- **实战：** 如果你拿 33 和 55 加仑的桶去量 4 加仑，你会炸掉，因为 $\gcd(33, 55)=11$，而 11 不整除 4。

### **核心结论：** 两个整数 $a$ 和 $b$ 的最大公约数 $GCD(a, b)$，是这两个数通过整数倍加减（线性组合）所能凑出的**最小正整数**。

**公式表达：**
对于任何整数 $a, b$，一定存在整数 $s, t$ 使得：
$s \cdot a + t \cdot b = GCD(a, b)$

### 视频中的“倒水”实例分析
通过控制两个桶的灌满、倒空和互倒，本质上是在做 $s \cdot a + t \cdot b$ 的运算。

### 案例 A：电影《虎胆龙威 3》原题
* **已知：** 3加仑桶 ($a=3$)，5加仑桶 ($b=5$)
* **计算：** $GCD(3, 5) = 1$
* **结论：** 最小能量出 1 加仑。因为目标 **4 加仑** 是 1 的倍数，所以**可行**。
* **数学组合：** $4 = 2 \cdot 5 + (-2) \cdot 3$ （灌满两次5加仑，倒掉两次3加仑）。

### 案例 B：失败的逻辑
* **已知：** 3加仑桶 ($a=3$)，6加仑桶 ($b=6$)
* **计算：** $GCD(3, 6) = 3$
* **结论：** 能量出的水量只能是 3 的倍数（3, 6, 9...）。由于 **4 加仑** 不是 3 的倍数，**任务无解**。

### 案例 C：恶搞版《虎胆龙威 5》
* **已知：** 33加仑桶，55加仑桶
* **计算：** $GCD(33, 55) = 11$
* **结论：** 只能凑出 11 的倍数。想要量出 4 加仑在数学上是**不可能**的。

##  总结
一个目标值是否能被两个基础单位“凑”出来，取决于该目标值是否能被这两个单位的最大公约数整除。

# 4. 算法：欧几里得算法 (Euclidean Algorithm)
- **思考：** 这是一个不断缩小搜索空间（降维）的过程。

## 1. 核心定义
辗转相除法（又称欧几里得算法）是计算两个整数 **最大公约数 (Greatest Common Divisor, GCD)** 的高效算法。

**数学原理：**
$GCD(a, b) = GCD(b \pmod a, a)$
(即：两个数的最大公约数，等于其中较小的数与两数相除余数的最大公约数。)

## 2. 视频中的计算实例
**任务：求 $GCD(105, 224)$**

| 步骤 | 计算过程 | 结论 |
| :--- | :--- | :--- |
| **Step 1** | $224 \div 105 = 2 \dots 14$ | $GCD(105, 224) = GCD(14, 105)$ |
| **Step 2** | $105 \div 14 = 7 \dots 7$ | $GCD(14, 105) = GCD(7, 14)$ |
| **Step 3** | $14 \div 7 = 2 \dots 0$ | $GCD(7, 14) = GCD(0, 7)$ |

**最终结果：** 当余数为 0 时，剩下的非零数 **7** 即为 $GCD(105, 224)$。

## 3. 计算机科学意义
这是计算机科学中最基础的算法之一。它的时间复杂度极低（对数级别），是现代加密算法（如 RSA）中必不可少的预处理步骤。



# 数论核心定理：从逻辑地基到现代加密 # 📚 MIT 6.042J 学习日志 | 2026-02-09
# Core Theorems of Number Theory

这篇笔记汇总了数论中最具支撑性的核心定理。对于经济学（HEOR）研究或计算机科学而言，这些定理提供了处理离散数据、逻辑证明和系统安全性的底层框架。

---

## 1. 算术基本定理 (Fundamental Theorem of Arithmetic)
**“数字世界的乐高积木”**

* **定理内容：** 每一个大于 1 的整数，要么本身是质数，要么可以被唯一地分解为一系列质数的乘积。
* **数学表达：** 对于任何整数 $n > 1$，存在唯一的质数序列 $p_1 < p_2 < \dots < p_k$ 和指数 $e_i$，使得：
    $$n = p_1^{e_1} \cdot p_2^{e_2} \dots p_k^{e_k}$$
* **哲学意义：** 复杂系统可以被唯一地拆解为不可再分的最小单元（质数）。

---

## 2. 贝祖定理 (Bézout's Identity)
**“线性组合的边界”**

* **定理内容：** 两个整数 $a$ 和 $b$ 的最大公约数 $d = \gcd(a, b)$，是这两个数通过整数倍加减（线性组合）所能凑出的最小正整数。
* **数学表达：** 存在整数 $s$ 和 $t$，使得：
    $$s \cdot a + t \cdot b = \gcd(a, b)$$
* **应用逻辑：** 它是解决“倒水问题”或“硬币找零问题”的数学判定准则。

---

## 3. 费马小定理 (Fermat's Little Theorem)
**“余数的周期性”**

* **定理内容：** 如果 $p$ 是一个质数，且整数 $a$ 不是 $p$ 的倍数，那么 $a$ 的 $(p-1)$ 次方除以 $p$ 的余数恒等于 1。
* **数学表达：** $$a^{p-1} \equiv 1 \pmod p$$
* **现实应用：** 这是现代 RSA 加密算法的核心数学工具，也是快速质数测试（检测一个超大数字是否为质数）的基础。

---

## 4. 欧几里得算法 (Euclidean Algorithm)
**“高效求取公约数”**

* **定理内容：** 两个数 $a$ 和 $b$ 的最大公约数，等于其中较小的数与两数相除余数（模运算结果）的最大公约数。
* **递归公式：** $$\gcd(a, b) = \gcd(b \pmod a, a)$$
* **计算意义：** 它避开了极其困难的“因数分解”，用极快的速度找到了两个巨量数字之间的公因数。

---

## 5. 中国剩余定理 (Chinese Remainder Theorem)
**“局部与整体的重构”**

* **定理内容：** 只要一组除数（模数）之间两两互质，我们就能通过已知的余数状态，唯一地确定原始的大数字。
* **背景：** 起源于南北朝时期的《孙子算经》“物不知数”问题。
* **学术意义：** 在处理大规模并行计算和数据恢复时，证明了“部分特征可以唯一确定全局状态”。

---

## 6. 皮亚诺公理 (Peano Axioms)
**“整数的宪法”**

* **核心逻辑：** 1. 0 是自然数。
    2. 每个自然数 $n$ 都有一个后继 $n+1$。
    3. **数学归纳法**：如果一个性质对 0 成立，且能从 $n$ 推导到 $n+1$，则对所有自然数成立。
* **重要性：** 它是所有数论证明（Induction）的合法性来源。

---

